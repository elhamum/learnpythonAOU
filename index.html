<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Python Learning Assistant - Arab Open University</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .university-badge {
            background: rgba(255,255,255,0.2);
            display: inline-block;
            padding: 8px 20px;
            border-radius: 20px;
            margin-top: 10px;
            font-size: 0.9em;
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            padding: 30px;
        }

        .panel {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 20px;
            border: 2px solid #e9ecef;
        }

        .panel h2 {
            color: #667eea;
            margin-bottom: 15px;
            font-size: 1.5em;
        }

        .input-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #495057;
        }

        select, textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #dee2e6;
            border-radius: 8px;
            font-size: 1em;
            font-family: inherit;
            transition: border-color 0.3s;
        }

        select:focus, textarea:focus {
            outline: none;
            border-color: #667eea;
        }

        textarea {
            resize: vertical;
            min-height: 120px;
        }

        .code-editor {
            font-family: 'Courier New', monospace;
            background: #282c34;
            color: #abb2bf;
            min-height: 200px;
        }

        button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 14px 30px;
            border-radius: 8px;
            font-size: 1em;
            font-weight: 600;
            cursor: pointer;
            width: 100%;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        button:active {
            transform: translateY(0);
        }

        button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .explain-btn {
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%) !important;
            margin-bottom: 15px;
        }

        .explain-btn:hover {
            box-shadow: 0 5px 15px rgba(17, 153, 142, 0.4);
        }

        .response-area {
            background: white;
            border: 2px solid #dee2e6;
            border-radius: 8px;
            padding: 15px;
            min-height: 150px;
            max-height: 400px;
            overflow-y: auto;
            white-space: pre-wrap;
            line-height: 1.6;
        }

        .loading {
            text-align: center;
            color: #667eea;
            font-style: italic;
        }

        .error {
            color: #dc3545;
            background: #f8d7da;
            padding: 10px;
            border-radius: 5px;
            border: 1px solid #f5c6cb;
        }

        .footer {
            background: #f8f9fa;
            padding: 20px;
            text-align: center;
            color: #6c757d;
            border-top: 2px solid #e9ecef;
        }

        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 1.8em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üêç Python Learning Assistant</h1>
            <p>Master Python programming with AI-powered guidance</p>
            <div class="university-badge">üéì Arab Open University</div>
        </div>

        <div class="main-content">
            <div class="panel">
                <h2>üìù Ask a Question</h2>
                <div class="input-group">
                    <label for="topic">Select Python Topic:</label>
                    <select id="topic">
                        <option value="">-- Select a Topic --</option>
                        <option value="input-output">1. Input/Output</option>
                        <option value="conditions">2. Conditions (if/else)</option>
                        <option value="loops">3. Loops (for/while)</option>
                        <option value="functions">4. Functions</option>
                        <option value="turtle">5. Turtle Graphics</option>
                        <option value="file-io">6. File Read/Write</option>
                    </select>
                </div>

                <button id="explainBtn" class="explain-btn" onclick="explainTopic()">üìö Get Topic Explanation</button>

                <div class="input-group">
                    <label for="question">Your Question:</label>
                    <textarea id="question" placeholder="e.g., How do I use a for loop to iterate through a list?"></textarea>
                </div>

                <button id="askBtn" onclick="askQuestion()">Ask AI Assistant</button>
            </div>

            <div class="panel">
                <h2>üíª Code Editor</h2>
                <div class="input-group">
                    <label for="code">Write or Paste Your Python Code:</label>
                    <textarea id="code" class="code-editor" placeholder="# Write your Python code here&#10;name = input('What is your name? ')&#10;print(f'Hello, {name}!')"></textarea>
                </div>

                <button id="reviewBtn" onclick="reviewCode()">Review My Python Code</button>
            </div>
        </div>

        <div style="padding: 0 30px 30px 30px;">
            <div class="panel">
                <h2>ü§ñ AI Response</h2>
                <div id="response" class="response-area">
                    <p style="color: #6c757d; text-align: center; margin-top: 50px;">
                        üëã Welcome! Select a topic and click "Get Topic Explanation" to start learning,<br>
                        or ask a question about Python programming.
                    </p>
                </div>
            </div>
        </div>

        <div class="footer">
            <p><strong>Python Learning Assistant</strong> - Supporting Arab Open University Students</p>
            <p style="margin-top: 10px; font-size: 0.9em;">Learn Python ‚Ä¢ Build Projects ‚Ä¢ Succeed in Your Course</p>
        </div>
    </div>

    <script>
        const topicNames = {
            "input-output": "Input/Output",
            "conditions": "Conditions (if/else statements)",
            "loops": "Loops (for/while)",
            "functions": "Functions",
            "turtle": "Turtle Graphics",
            "file-io": "File Read/Write"
        };

        async function explainTopic() {
            const topic = document.getElementById('topic').value;
            const responseDiv = document.getElementById('response');
            const explainBtn = document.getElementById('explainBtn');

            if (!topic) {
                responseDiv.innerHTML = '<p class="error">Please select a Python topic first!</p>';
                return;
            }

            explainBtn.disabled = true;
            responseDiv.innerHTML = '<p class="loading">ü§î AI is preparing topic explanation...</p>';

            try {
                const response = await fetch("https://api.anthropic.com/v1/messages", {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json",
                    },
                    body: JSON.stringify({
                        model: "claude-sonnet-4-20250514",
                        max_tokens: 1000,
                        messages: [{
                            role: "user",
                            content: `You are a Python programming tutor. Provide a comprehensive but beginner-friendly explanation of ${topicNames[topic]} in Python.

Your explanation should include:
1. What it is and why it's important
2. Basic syntax and how to use it
3. 2-3 simple, practical code examples
4. Common mistakes beginners make
5. A practice exercise they can try

Make it engaging and easy to understand for students who are just learning Python!`
                        }]
                    })
                });

                const data = await response.json();
                const aiResponse = data.content.map(item => item.type === "text" ? item.text : "").join("\n");
                
                responseDiv.innerHTML = `<strong>üìö Topic: ${topicNames[topic]}</strong>\n\n${aiResponse}`;
            } catch (error) {
                responseDiv.innerHTML = `<p class="error">Error: ${error.message}</p>`;
            } finally {
                explainBtn.disabled = false;
            }
        }

        async function askQuestion() {
            const topic = document.getElementById('topic').value;
            const question = document.getElementById('question').value.trim();
            const responseDiv = document.getElementById('response');
            const askBtn = document.getElementById('askBtn');

            if (!topic) {
                responseDiv.innerHTML = '<p class="error">Please select a Python topic first!</p>';
                return;
            }

            if (!question) {
                responseDiv.innerHTML = '<p class="error">Please enter a question!</p>';
                return;
            }

            askBtn.disabled = true;
            responseDiv.innerHTML = '<p class="loading">ü§î AI is thinking...</p>';

            try {
                const response = await fetch("https://api.anthropic.com/v1/messages", {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json",
                    },
                    body: JSON.stringify({
                        model: "claude-sonnet-4-20250514",
                        max_tokens: 1000,
                        messages: [{
                            role: "user",
                            content: `You are a Python programming tutor helping students learn about ${topicNames[topic]}. 

Student's question: ${question}

Please provide a clear, educational answer that:
1. Explains the concept in simple terms
2. Includes a practical Python code example
3. Is encouraging and supportive
4. Uses language appropriate for beginners

Answer:`
                        }]
                    })
                });

                const data = await response.json();
                const aiResponse = data.content.map(item => item.type === "text" ? item.text : "").join("\n");
                
                responseDiv.innerHTML = `<strong>Topic: ${topicNames[topic]}</strong>\n\n${aiResponse}`;
            } catch (error) {
                responseDiv.innerHTML = `<p class="error">Error: ${error.message}</p>`;
            } finally {
                askBtn.disabled = false;
            }
        }

        async function reviewCode() {
            const code = document.getElementById('code').value.trim();
            const responseDiv = document.getElementById('response');
            const reviewBtn = document.getElementById('reviewBtn');

            if (!code) {
                responseDiv.innerHTML = '<p class="error">Please write some code first!</p>';
                return;
            }

            reviewBtn.disabled = true;
            responseDiv.innerHTML = '<p class="loading">üîç AI is reviewing your Python code...</p>';

            try {
                const response = await fetch("https://api.anthropic.com/v1/messages", {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json",
                    },
                    body: JSON.stringify({
                        model: "claude-sonnet-4-20250514",
                        max_tokens: 1000,
                        messages: [{
                            role: "user",
                            content: `You are a Python programming tutor helping students learn. Review this student's Python code and provide constructive feedback:

\`\`\`python
${code}
\`\`\`

Please provide:
1. What the code does well
2. Any errors or issues you spot
3. Suggestions for improvement
4. Best practices they should follow
5. Encouragement for their learning journey

Keep your feedback educational, supportive, and easy to understand for beginners.`
                        }]
                    })
                });

                const data = await response.json();
                const aiResponse = data.content.map(item => item.type === "text" ? item.text : "").join("\n");
                
                responseDiv.innerHTML = `<strong>PYTHON CODE REVIEW</strong>\n\n${aiResponse}`;
            } catch (error) {
                responseDiv.innerHTML = `<p class="error">Error: ${error.message}</p>`;
            } finally {
                reviewBtn.disabled = false;
            }
        }
    </script>
</body>
</html>
